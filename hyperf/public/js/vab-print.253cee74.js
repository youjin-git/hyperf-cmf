(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vab-print"],{a124:function(e,t,n){"use strict";n("cb77")},cb77:function(e,t,n){},f7fe:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c=function(e){return Object(o["pushScopeId"])("data-v-1bbc4aea"),e=e(),Object(o["popScopeId"])(),e},r=Object(o["createTextVNode"])("普通打印"),i=c((function(){return Object(o["createElementVNode"])("div",{style:{height:"20px"}},null,-1)})),a={class:"printMain",ref:"printMain"},l=c((function(){return Object(o["createElementVNode"])("div",{class:"item"},[Object(o["createTextVNode"])(" 打印内容1 "),Object(o["createElementVNode"])("i",{class:"el-icon-platform-eleme"}),Object(o["createElementVNode"])("p",{class:"no-print"},"忽略打印")],-1)})),u=c((function(){return Object(o["createElementVNode"])("div",{style:{"page-break-after":"always"}},null,-1)})),s=c((function(){return Object(o["createElementVNode"])("div",{class:"item"},"打印内容2",-1)})),d=[l,u,s],p=Object(o["createTextVNode"])("动态打印");function f(e,t,n,c,l,u){var s=Object(o["resolveComponent"])("el-alert"),f=Object(o["resolveComponent"])("el-button"),b=Object(o["resolveComponent"])("el-tab-pane"),m=Object(o["resolveComponent"])("el-tabs"),h=Object(o["resolveComponent"])("el-card"),O=Object(o["resolveComponent"])("el-main");return Object(o["openBlock"])(),Object(o["createBlock"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{shadow:"never"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{"tab-position":"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{label:"普通打印"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{title:"打印当前页面已存在的元素,如包含.no-print样式就忽略,分页打印就需要{page-break-after: always}控制",type:"success",style:{"margin-bottom":"20px"}}),Object(o["createVNode"])(f,{type:"primary",onClick:u.print},{default:Object(o["withCtx"])((function(){return[r]})),_:1},8,["onClick"]),i,Object(o["createElementVNode"])("div",a,d,512)]})),_:1}),Object(o["createVNode"])(b,{label:"动态打印"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{title:"打印创建的DOM结构,适用于远程获取模板后打印",type:"success",style:{"margin-bottom":"20px"}}),Object(o["createVNode"])(f,{type:"primary",onClick:u.print2},{default:Object(o["withCtx"])((function(){return[p]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var b=n("fe639"),m={name:"print",data:function(){return{}},methods:{print:function(){Object(b["a"])(this.$refs.printMain)},print2:function(){var e="<h2>TITLE</h2><p>后创建的DOM结构</p>";Object(b["a"])(e)}}},h=(n("a124"),n("6b0d")),O=n.n(h);const y=O()(m,[["render",f],["__scopeId","data-v-1bbc4aea"]]);t["default"]=y},fe639:function(e,t,n){"use strict";var o=n("53ca"),c=function e(t,n){if(!(this instanceof e))return new e(t,n);if(this.options=this.extend({noPrint:".no-print"},n),"string"===typeof t)try{this.dom=document.querySelector(t)}catch(c){var o=document.createElement("div");o.innerHTML=t,this.dom=o}else this.isDOM(t),this.dom=this.isDOM(t)?t:t.$el;this.init()};c.prototype={init:function(){var e=this.getStyle()+this.getHtml();this.writeIframe(e)},extend:function(e,t){for(var n in t)e[n]=t[n];return e},getStyle:function(){for(var e="",t=document.querySelectorAll("style,link"),n=0;n<t.length;n++)e+=t[n].outerHTML;return e+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",e+="<style>html,body{background-color:#fff;}</style>",e},getHtml:function(){for(var e=document.querySelectorAll("input"),t=document.querySelectorAll("textarea"),n=document.querySelectorAll("select"),o=0;o<e.length;o++)"checkbox"==e[o].type||"radio"==e[o].type?1==e[o].checked?e[o].setAttribute("checked","checked"):e[o].removeAttribute("checked"):(e[o].type,e[o].setAttribute("value",e[o].value));for(var c=0;c<t.length;c++)"textarea"==t[c].type&&(t[c].innerHTML=t[c].value);for(var r=0;r<n.length;r++)if("select-one"==n[r].type){var i=n[r].children;for(var a in i)"OPTION"==i[a].tagName&&(1==i[a].selected?i[a].setAttribute("selected","selected"):i[a].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(e){var t,n,o=document.createElement("iframe"),c=document.body.appendChild(o);o.id="myIframe",o.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),t=c.contentWindow||c.contentDocument,n=c.contentDocument||c.contentWindow.document,n.open(),n.write(e),n.close();var r=this;o.onload=function(){r.toPrint(t),setTimeout((function(){document.body.removeChild(o)}),100)}},toPrint:function(e){try{setTimeout((function(){e.focus();try{e.document.execCommand("print",!1,null)||e.print()}catch(t){e.print()}e.close()}),10)}catch(t){console.log("err",t)}},isDOM:"object"===("undefined"===typeof HTMLElement?"undefined":Object(o["a"])(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===Object(o["a"])(e)&&1===e.nodeType&&"string"===typeof e.nodeName}},t["a"]=c}}]);