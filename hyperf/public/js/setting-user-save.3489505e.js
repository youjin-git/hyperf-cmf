(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting-user-save"],{"113d":function(e,t,r){"use strict";r.r(t);r("b0c0");var o=r("7a23"),a=Object(o["createTextVNode"])("取 消"),n=Object(o["createTextVNode"])("保 存");function l(e,t,r,l,s,u){var c=Object(o["resolveComponent"])("sc-upload"),i=Object(o["resolveComponent"])("el-form-item"),d=Object(o["resolveComponent"])("el-input"),m=Object(o["resolveComponent"])("el-cascader"),p=Object(o["resolveComponent"])("el-form"),f=Object(o["resolveComponent"])("el-button"),b=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(b,{title:s.titleMap[s.mode],modelValue:s.visible,"onUpdate:modelValue":t[8]||(t[8]=function(e){return s.visible=e}),width:500,"destroy-on-close":"",onClosed:t[9]||(t[9]=function(t){return e.$emit("closed")})},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{onClick:t[6]||(t[6]=function(e){return s.visible=!1})},{default:Object(o["withCtx"])((function(){return[a]})),_:1}),"show"!=s.mode?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,type:"primary",loading:s.isSaveing,onClick:t[7]||(t[7]=function(e){return u.submit()})},{default:Object(o["withCtx"])((function(){return[n]})),_:1},8,["loading"])):Object(o["createCommentVNode"])("",!0)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{model:s.form,rules:s.rules,disabled:"show"==s.mode,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{label:"头像",prop:"avatar"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:s.form.avatar,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.form.avatar=e}),title:"上传头像"},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,{label:"登录账号",prop:"userName"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:s.form.userName,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.form.userName=e}),placeholder:"用于登录系统",clearable:""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,{label:"姓名",prop:"name"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{modelValue:s.form.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.form.name=e}),placeholder:"请输入完整的真实姓名",clearable:""},null,8,["modelValue"])]})),_:1}),"add"==s.mode?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createVNode"])(i,{label:"登录密码",prop:"password"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{type:"password",modelValue:s.form.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.form.password=e}),clearable:"","show-password":""},null,8,["modelValue"])]})),_:1}),Object(o["createVNode"])(i,{label:"确认密码",prop:"password2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{type:"password",modelValue:s.form.password2,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.form.password2=e}),clearable:"","show-password":""},null,8,["modelValue"])]})),_:1})],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(i,{label:"所属角色",prop:"group"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{modelValue:s.form.group,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.form.group=e}),options:s.groups,props:s.groupsProps,"show-all-levels":!1,clearable:"",style:{width:"100%"}},null,8,["modelValue","options","props"])]})),_:1})]})),_:1},8,["model","rules","disabled"])]})),_:1},8,["title","modelValue"])}var s=r("1da1"),u=(r("96cf"),r("d9e2"),{emits:["success","closed"],data:function(){var e=this;return{mode:"add",titleMap:{add:"新增用户",edit:"编辑用户",show:"查看"},visible:!1,isSaveing:!1,form:{id:"",userName:"",avatar:"",name:"",group:""},rules:{avatar:[{required:!0,message:"请上传头像"}],userName:[{required:!0,message:"请输入登录账号"}],name:[{required:!0,message:"请输入真实姓名"}],password:[{required:!0,message:"请输入登录密码"},{validator:function(t,r,o){""!==e.form.password2&&e.$refs.dialogForm.validateField("password2"),o()}}],password2:[{required:!0,message:"请再次输入密码"},{validator:function(t,r,o){r!==e.form.password?o(new Error("两次输入密码不一致!")):o()}}],group:[{required:!0,message:"请选择所属角色"}]},groups:[],groupsProps:{value:"id",multiple:!0,checkStrictly:!0}}},mounted:function(){this.getGroup()},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return this.mode=e,this.visible=!0,this},getGroup:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.role.list.get();case 2:r=t.sent,e.groups=r.data;case 4:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;this.$refs.dialogForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}return e.isSaveing=!0,t.next=4,e.$API.demo.post.post(e.form);case 4:o=t.sent,e.isSaveing=!1,200==o.code?(e.$emit("success",e.form,e.mode),e.visible=!1,e.$message.success("操作成功")):e.$alert(o.message,"提示",{type:"error"}),t.next=10;break;case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setData:function(e){this.form.id=e.id,this.form.userName=e.userName,this.form.avatar=e.avatar,this.form.name=e.name,this.form.group=e.group}}}),c=r("6b0d"),i=r.n(c);const d=i()(u,[["render",l]]);t["default"]=d}}]);