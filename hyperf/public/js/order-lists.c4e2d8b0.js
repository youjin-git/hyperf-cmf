(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-lists","order-change","order-info"],{"00c1":function(e,t,n){"use strict";n("4c97")},"00cf":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={style:{padding:"20px"}};function o(e,t,n,o,c,i){var s=Object(r["resolveComponent"])("el-descriptions-item"),u=Object(r["resolveComponent"])("el-image"),l=Object(r["resolveComponent"])("el-descriptions"),d=Object(r["resolveComponent"])("el-drawer");return Object(r["openBlock"])(),Object(r["createBlock"])(d,{title:"订单修改意见",modelValue:c.drawer,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.drawer=e}),size:"80%"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(l,{direction:"vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{label:"修改意见"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderParams.content),1)]})),_:1}),Object(r["createVNode"])(s,{label:"图片"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.orderParams.images_format,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:e.index,style:{width:"100px",height:"100px"},src:e.full_path,"preview-src-list":[e.full_path],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])})),128))]})),_:1})]})),_:1})])]})),_:1},8,["modelValue"])}var c=n("1da1"),i=(n("96cf"),{emits:["confirm"],data:function(){return{drawer:!1,orderParams:{},orderData:{}}},methods:{show:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(e),t.drawer=!0,t.orderParams=e;case 3:case"end":return n.stop()}}),n)})))()},getInfo:function(){var e=this;this.$HTTP().params(this.orderParams).post("/admin/order/order/changeDetail").then((function(t){e.orderData=t}))},handleClose:function(){this.drawer=!1},getMenu:function(){var e=this;this.$API.menu.tree().then((function(t){e.menus=t.data}))},getSystemInfo:function(){var e=this;this.$API.table.getSystemInfo().then((function(t){e.sysinfo=t.data}))},getDictType:function(){var e=this;this.$API.dictType.getTypeList().then((function(t){e.dict=t.data}))},getTableColumns:function(){var e=this;this.$API.generate.getTableColumns({table_id:this.record.id}).then((function(t){e.columns=t.data}))},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return e.form.columns=e.columns,e.saveLoading=!0,t.next=5,e.$API.generate.update(e.form);case 5:r=t.sent,e.saveLoading=!1,r.success?(e.$emit("confirm"),e.record=null,e.$message.success(r.message),e.drawer=!1):e.$alert(r.message,"提示",{type:"error"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setFormValue:function(){this.form.id=this.record.id,this.form.table_name=this.record.table_name,this.form.table_comment=this.record.table_comment,this.form.module_name=this.record.module_name,this.form.menu_name=this.record.menu_name,this.form.belong_menu_id=this.record.belong_menu_id,this.form.package_name=this.record.package_name,this.form.remark=this.record.remark,this.form.type=this.record.type,this.form.generate_type=this.record.generate_type,"single"==this.form.type&&(this.form.options={}),"tree"==this.form.type&&(this.form.options=this.record.options)},hanldeChangeModule:function(e){this.form.module_name=e}}}),s=(n("00c1"),n("6b0d")),u=n.n(s);const l=u()(i,[["render",o],["__scopeId","data-v-1418891b"]]);t["default"]=l},"3c3f":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),a={style:{padding:"20px"}};function o(e,t,n,o,c,i){var s=Object(r["resolveComponent"])("el-descriptions-item"),u=Object(r["resolveComponent"])("el-tag"),l=Object(r["resolveComponent"])("el-descriptions"),d=Object(r["resolveComponent"])("el-image"),f=Object(r["resolveComponent"])("el-drawer");return Object(r["openBlock"])(),Object(r["createBlock"])(f,{title:"订单信息",modelValue:c.drawer,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.drawer=e}),size:"80%"},{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(l,{title:"基本信息"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{label:"中介姓名"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.name),1)]})),_:1}),Object(r["createVNode"])(s,{label:"联系电话"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.tel),1)]})),_:1}),Object(r["createVNode"])(s,{label:"房屋面积"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.house_area),1)]})),_:1}),Object(r["createVNode"])(s,{label:"挂牌总价"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.house_listing_price),1)]})),_:1}),Object(r["createVNode"])(s,{label:"产权年限"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.house_years),1)]})),_:1}),Object(r["createVNode"])(s,{label:"业态类型"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.type),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(s,{label:"装修情况"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{size:"small"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.house_renovation),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{title:"卖点"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.orderData.order_maidian,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{label:e.maidian.name,key:e.index},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.nums),1)]})),_:2},1032,["label"])})),128))]})),_:1}),Object(r["createVNode"])(l,{title:"增值服务"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{label:"是否将系统默认的AI机器人配音升级为真人配音"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.is_real_person?"是":"否"),1)]})),_:1}),Object(r["createVNode"])(s,{label:"是否做同步户型图跟踪"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.is_sysc?"是":"否"),1)]})),_:1}),Object(r["createVNode"])(s,{label:"是否追加平台广告"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.is_ad?"是":"否"),1)]})),_:1}),Object(r["createVNode"])(s,{label:"是否加急"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.orderData.is_accelerate?"是":"否"),1)]})),_:1})]})),_:1}),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.orderData.order_maidian_desc,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{title:e.maidian.name,key:e.index,direction:"vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{label:"描述"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.desc),1)]})),_:2},1024),Object(r["createVNode"])(s,{label:"图片"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.image)+" ",1),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.images_format,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:e.index,style:{width:"100px",height:"100px"},src:e.full_path,"preview-src-list":[e.full_path],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])})),128))]})),_:2},1024)]})),_:2},1032,["title"])})),128))])]})),_:1},8,["modelValue"])}var c=n("1da1"),i=(n("96cf"),{emits:["confirm"],data:function(){return{drawer:!1,orderParams:{},orderData:{}}},methods:{show:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),t.drawer=!0,t.orderParams=e,n.next=5,t.getInfo();case 5:case"end":return n.stop()}}),n)})))()},getInfo:function(){var e=this;this.$HTTP().params(this.orderParams).post("/admin/order/order/detail").then((function(t){e.orderData=t}))},handleClose:function(){this.drawer=!1},getMenu:function(){var e=this;this.$API.menu.tree().then((function(t){e.menus=t.data}))},getSystemInfo:function(){var e=this;this.$API.table.getSystemInfo().then((function(t){e.sysinfo=t.data}))},getDictType:function(){var e=this;this.$API.dictType.getTypeList().then((function(t){e.dict=t.data}))},getTableColumns:function(){var e=this;this.$API.generate.getTableColumns({table_id:this.record.id}).then((function(t){e.columns=t.data}))},handleSubmit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=8;break}return e.form.columns=e.columns,e.saveLoading=!0,t.next=5,e.$API.generate.update(e.form);case 5:r=t.sent,e.saveLoading=!1,r.success?(e.$emit("confirm"),e.record=null,e.$message.success(r.message),e.drawer=!1):e.$alert(r.message,"提示",{type:"error"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setFormValue:function(){this.form.id=this.record.id,this.form.table_name=this.record.table_name,this.form.table_comment=this.record.table_comment,this.form.module_name=this.record.module_name,this.form.menu_name=this.record.menu_name,this.form.belong_menu_id=this.record.belong_menu_id,this.form.package_name=this.record.package_name,this.form.remark=this.record.remark,this.form.type=this.record.type,this.form.generate_type=this.record.generate_type,"single"==this.form.type&&(this.form.options={}),"tree"==this.form.type&&(this.form.options=this.record.options)},hanldeChangeModule:function(e){this.form.module_name=e}}}),s=(n("bf96"),n("6b0d")),u=n.n(s);const l=u()(i,[["render",o],["__scopeId","data-v-17fca66e"]]);t["default"]=l},"4c97":function(e,t,n){},"708c":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={class:"left-panel"},o=Object(r["createTextVNode"])(" 添加 "),c=Object(r["createTextVNode"])(" 详情 "),i=Object(r["createTextVNode"])(" 修改意见 "),s=Object(r["createTextVNode"])(" 制作 ");function u(e,t,n,u,l,d){var f=Object(r["resolveComponent"])("el-button"),m=Object(r["resolveComponent"])("el-header"),h=Object(r["resolveComponent"])("el-table-column"),b=Object(r["resolveComponent"])("yjTable"),p=Object(r["resolveComponent"])("el-main"),j=Object(r["resolveComponent"])("el-container"),O=Object(r["resolveComponent"])("Info"),g=Object(r["resolveComponent"])("Change");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(j,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(f,{type:"primary",onClick:t[0]||(t[0]=function(e){return d.onAdd()})},{default:Object(r["withCtx"])((function(){return[o]})),_:1})])]})),_:1}),Object(r["createVNode"])(p,{class:"nopadding"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{ref:"yjTable",data:l.tableData,apiObj:l.apiObj,params:l.formParams},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{type:"selection",width:"50"}),Object(r["createVNode"])(h,{label:"订单ID",prop:"id",width:"150"}),Object(r["createVNode"])(h,{label:"中介姓名",prop:"name",width:"150"}),Object(r["createVNode"])(h,{label:"中介联系方式",prop:"tel",width:"150"}),Object(r["createVNode"])(h,{label:"中介联系方式",prop:"tel",width:"150"}),Object(r["createVNode"])(h,{label:"状态",prop:"status_foramt",width:"150"}),Object(r["createVNode"])(h,{label:"操作",fixed:"right",align:"right",width:"180"},{default:Object(r["withCtx"])((function(e){return[Object(r["createVNode"])(f,{type:"text",onClick:function(t){return d.onInfo(e.row,e.$index)}},{default:Object(r["withCtx"])((function(){return[c]})),_:2},1032,["onClick"]),e.row.order_change_detail?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,type:"text",onClick:function(t){return d.onChange(e.row,e.$index)}},{default:Object(r["withCtx"])((function(){return[i]})),_:2},1032,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(f,{type:"text",onClick:function(t){return d.onFinish(e.row,e.$index)}},{default:Object(r["withCtx"])((function(){return[s]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data","apiObj","params"])]})),_:1})]})),_:1}),Object(r["createVNode"])(O,{ref:"info"},null,512),Object(r["createVNode"])(g,{ref:"change"},null,512)],64)}var l=n("1da1"),d=(n("d81d"),n("a15b"),n("96cf"),n("3c3f")),f=n("00cf"),m={name:"setting:code",components:{Info:d["default"],Change:f["default"]},data:function(){return{formParams:{},apiObj:this.$HTTP().url("/admin/order/order/lists"),tableData:[],selection:[]}},created:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{onChange:function(e){var t=e.order_change_detail;this.$refs.change.show(t)},onInfo:function(e){var t=e.id;this.$refs.info.show({order_id:t})},delete:function(){},onEdit:function(e){var t=this,n=e.id;this.$modalForm(this.$HTTP().params({id:n}).post("/admin/banner/create")).then((function(e){t.$refs.yjTable.upData(t.formParams)}))},onFinish:function(e){var t=this,n=e.id;this.$modalForm(this.$HTTP().params({order_id:n}).post("/admin/order/order/finish-form")).then((function(e){t.$refs.yjTable.upData(t.formParams)}))},onAdd:function(){var e=this;this.$modalForm(this.$HTTP().post("/admin/banner/create")).then((function(t){e.$refs.yjTable.upData(e.formParams)}))},success:function(e){console.log(e),this.$HTTP().post("/import/school",e).then((function(e){}))},selectionChange:function(e){this.selection=e},confirm:function(){this.handleSuccess()},handleGenCodes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(e.$refs.preview);case 1:case"end":return t.stop()}}),t)})))()},generateCode:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$message.info("代码生成下载中，请稍后"),n.next=3,t.$API.generate.generate(e).then((function(e){e.message&&!e.success?t.$message.error(e.message):(t.$TOOL.download(e),t.$message.success("代码生成成功"))}));case 3:case"end":return n.stop()}}),n)})))()},handleDeleteBatch:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.selection.length>0)){t.next=6;break}return n=e.selection.map((function(e){return e.id})),t.next=4,e.handleDelete(n.join(","));case 4:t.next=7;break;case 6:e.$message.error("请选择要删除的项");case 7:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this,n=e.id;console.log(),this.$confirm("此操作会将数据物理删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$HTTP().params({id:n}).post("admin/banner/delete").then((function(e){t.$refs.table.upData(t.queryParams),t.$message.success("操作成功")}))}))},handleSync:function(e){var t=this;this.$confirm("此操作会导致字段设置信息丢失，确定同步吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$API.generate.sync(e).then((function(e){e.success&&t.$message.success(e.message)}))}))},handlerSearch:function(){this.handleSuccess()},resetSearch:function(){this.queryParams={table_name:void 0},this.handleSuccess()},handleSuccess:function(){this.$refs.table.upData(this.queryParams)}}},h=n("6b0d"),b=n.n(h);const p=b()(m,[["render",u]]);t["default"]=p},"9aab":function(e,t,n){},bf96:function(e,t,n){"use strict";n("9aab")}}]);