(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting-role","setting-role-permission","setting-role-save"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},2083:function(e,t,n){"use strict";n.r(t);n("ac1f"),n("841c");var o=n("7a23"),r={class:"left-panel"},a=Object(o["createTextVNode"])("权限设置"),i={class:"right-panel"},c={class:"right-panel-search"};function l(e,t,n,l,s,u){var d=Object(o["resolveComponent"])("el-button"),p=Object(o["resolveComponent"])("el-input"),f=Object(o["resolveComponent"])("el-header"),b=Object(o["resolveComponent"])("el-main"),m=Object(o["resolveComponent"])("el-container"),h=Object(o["resolveComponent"])("save-dialog"),v=Object(o["resolveComponent"])("permission-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(d,{type:"primary",icon:"el-icon-plus",onClick:u.add},null,8,["onClick"]),Object(o["createVNode"])(d,{type:"primary",icon:"el-icon-plus",onClick:u.add1},null,8,["onClick"]),Object(o["createVNode"])(d,{type:"danger",plain:"",icon:"el-icon-delete",disabled:0==s.selection.length,onClick:u.batch_del},null,8,["disabled","onClick"]),Object(o["createVNode"])(d,{type:"primary",plain:"",disabled:1!=s.selection.length,onClick:u.permission},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["disabled","onClick"])]),Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(p,{modelValue:s.search.keyword,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.search.keyword=e}),placeholder:"角色名称",clearable:""},null,8,["modelValue"]),Object(o["createVNode"])(d,{type:"primary",icon:"el-icon-search",onClick:u.upsearch},null,8,["onClick"])])])]})),_:1}),Object(o["createVNode"])(b,{class:"nopadding"})]})),_:1}),s.dialog.save?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,ref:"saveDialog",onSuccess:u.handleSaveSuccess,onClosed:t[1]||(t[1]=function(e){return s.dialog.save=!1})},null,8,["onSuccess"])):Object(o["createCommentVNode"])("",!0),s.dialog.permission?(Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:1,ref:"permissionDialog",onClosed:t[2]||(t[2]=function(e){return s.dialog.permission=!1})},null,512)):Object(o["createCommentVNode"])("",!0)],64)}var s=n("1da1"),u=(n("d3b7"),n("159b"),n("96cf"),n("2a626")),d=n("73f2"),p={name:"role",components:{saveDialog:u["default"],permissionDialog:d["default"]},data:function(){return{rule:[{type:"input",field:"4hs5sr",title:"输入框1",info:"",_fc_drag_tag:"input",hidden:!1,display:!0},{type:"textarea",field:"4hs5",title:"输入框",info:"",_fc_drag_tag:"input",hidden:!1,display:!0}],dialog:{save:!1,permission:!1},apiObj:this.$API.system.role.list,selection:[],search:{keyword:null}}},methods:{add1:function(){},add:function(){this.$modalForm(this.$HTTP.post("/admin/config/setting/create",{})).then((function(e){}))},table_edit:function(e){var t=this;this.dialog.save=!0,this.$nextTick((function(){t.$refs.saveDialog.open("edit").setData(e)}))},table_show:function(e){var t=this;this.dialog.save=!0,this.$nextTick((function(){t.$refs.saveDialog.open("show").setData(e)}))},permission:function(){var e=this;this.dialog.permission=!0,this.$nextTick((function(){e.$refs.permissionDialog.open()}))},table_del:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o={id:e.id},n.next=3,t.$API.demo.post.post(o);case 3:r=n.sent,200==r.code?(t.$refs.table.refresh(),t.$message.success("删除成功")):t.$alert(r.message,"提示",{type:"error"});case 5:case"end":return n.stop()}}),n)})))()},batch_del:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$confirm("确定删除选中的 ".concat(e.selection.length," 项吗？如果删除项中含有子集将会被一并删除"),"提示",{type:"warning"}).then((function(){var t=e.$loading();e.$refs.table.refresh(),t.close(),e.$message.success("操作成功")})).catch((function(){}));case 1:case"end":return t.stop()}}),t)})))()},selectionChange:function(e){this.selection=e},upsearch:function(){},filterTree:function(e){var t=null;function n(o){o.forEach((function(o){o.id==e&&(t=o),o.children&&n(o.children)}))}return n(this.$refs.table.tableData),t},handleSaveSuccess:function(e,t){("add"==t||"edit"==t)&&this.$refs.table.refresh()}}},f=n("6b0d"),b=n.n(f);const m=b()(p,[["render",l]]);t["default"]=m},2529:function(e,t,n){},"2a626":function(e,t,n){"use strict";n.r(t);var o=n("7a23");function r(e,t,n,r,a,i){var c=Object(o["resolveComponent"])("form-create"),l=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{title:a.titleMap[a.mode],modelValue:a.visible,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.visible=e}),width:500,"destroy-on-close":"",onClosed:t[2]||(t[2]=function(t){return e.$emit("closed")})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{modelValue:a.fapi,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.fapi=e}),rule:a.rule,option:a.option,onSubmit:e.onSubmit},null,8,["modelValue","rule","option","onSubmit"])]})),_:1},8,["title","modelValue"])}var a=n("1da1"),i=(n("4e82"),n("96cf"),{emits:["success","closed"],data:function(){return{fapi:null,rule:[{type:"input",field:"4hs5srgn1vy3",title:"输入框",info:"",_fc_drag_tag:"input",hidden:!1,display:!0},{type:"textarea",field:"4hs5srgn1vy3",title:"输入框11",info:"",_fc_drag_tag:"input",hidden:!1,display:!0}],option:{},mode:"add",titleMap:{add:"新增",edit:"编辑",show:"查看"},visible:!1,isSaveing:!1,form:{id:"",label:"",alias:"",sort:1,parentId:""},groups:[],groupsProps:{value:"id",emitPath:!1,checkStrictly:!0}}},mounted:function(){this.getGroup()},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";return this.mode=e,this.visible=!0,this},getGroup:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.role.list.get();case 2:n=t.sent,e.groups=n.data;case 4:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;this.$refs.dialogForm.validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return e.isSaveing=!0,t.next=4,e.$API.demo.post.post(e.form);case 4:o=t.sent,e.isSaveing=!1,200==o.code?(e.$emit("success",e.form,e.mode),e.visible=!1,e.$message.success("操作成功")):e.$alert(o.message,"提示",{type:"error"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},setData:function(e){this.form.id=e.id,this.form.label=e.label,this.form.alias=e.alias,this.form.sort=e.sort,this.form.parentId=e.parentId}}}),c=n("6b0d"),l=n.n(c);const s=l()(i,[["render",r]]);t["default"]=s},"73f2":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=function(e){return Object(o["pushScopeId"])("data-v-5b419ef5"),e=e(),Object(o["popScopeId"])(),e},a={class:"treeMain"},i={class:"treeMain"},c={class:"treeMain"},l={style:{float:"left"}},s={style:{float:"right",color:"#8492a6","font-size":"12px"}},u=r((function(){return Object(o["createElementVNode"])("div",{class:"el-form-item-msg"}," 用于控制角色登录后控制台的视图 ",-1)})),d=Object(o["createTextVNode"])("取 消"),p=Object(o["createTextVNode"])("保 存");function f(e,t,n,r,f,b){var m=Object(o["resolveComponent"])("el-tree"),h=Object(o["resolveComponent"])("el-tab-pane"),v=Object(o["resolveComponent"])("el-option"),O=Object(o["resolveComponent"])("el-select"),j=Object(o["resolveComponent"])("el-form-item"),g=Object(o["resolveComponent"])("el-form"),k=Object(o["resolveComponent"])("el-tabs"),y=Object(o["resolveComponent"])("el-button"),w=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(w,{title:"角色权限设置",modelValue:f.visible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return f.visible=e}),width:500,"destroy-on-close":"",onClosed:t[4]||(t[4]=function(t){return e.$emit("closed")})},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{onClick:t[1]||(t[1]=function(e){return f.visible=!1})},{default:Object(o["withCtx"])((function(){return[d]})),_:1}),Object(o["createVNode"])(y,{type:"primary",loading:f.isSaveing,onClick:t[2]||(t[2]=function(e){return b.submit()})},{default:Object(o["withCtx"])((function(){return[p]})),_:1},8,["loading"])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(k,{"tab-position":"top"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{label:"菜单权限"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(m,{ref:"menu","node-key":"name",data:f.menu.list,"default-checked-keys":f.menu.checked,props:f.menu.props,"show-checkbox":""},null,8,["data","default-checked-keys","props"])])]})),_:1}),Object(o["createVNode"])(h,{label:"部门权限"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",i,[Object(o["createVNode"])(m,{ref:"group","node-key":"name",data:f.group.list,"default-checked-keys":f.group.checked,props:f.group.props,"show-checkbox":""},null,8,["data","default-checked-keys","props"])])]})),_:1}),Object(o["createVNode"])(h,{label:"类型权限"},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(m,{ref:"type","node-key":"name",data:f.type.list,"default-checked-keys":f.type.checked,props:f.type.props,"show-checkbox":""},null,8,["data","default-checked-keys","props"])])]})),_:1}),Object(o["createVNode"])(h,{label:"控制台"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{"label-width":"100px","label-position":"left"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(j,{label:"控制台视图"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{modelValue:f.dashboard,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.dashboard=e}),placeholder:"请选择"},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(f.dashboardOptions,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(v,{key:e.value,label:e.label,value:e.value},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.label),1),Object(o["createElementVNode"])("span",s,Object(o["toDisplayString"])(e.views),1)]})),_:2},1032,["label","value"])})),128))]})),_:1},8,["modelValue"]),u]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var b=n("1da1"),m=(n("96cf"),{emits:["success","closed"],data:function(){return{visible:!1,isSaveing:!1,menu:{list:[],checked:["test","system","user","role"],props:{label:function(e){return e.meta.title}}},group:{list:[],checked:[],props:{}},type:{list:[],checked:[],props:{}},dashboard:"0",dashboardOptions:[{value:"0",label:"数据统计",views:"stats"},{value:"1",label:"工作台",views:"work"}]}},mounted:function(){this.getMenu(),this.getGroup(),this.getType()},methods:{open:function(){this.visible=!0},submit:function(){var e=this;this.isSaveing=!0,setTimeout((function(){e.isSaveing=!1,e.visible=!1,e.$message.success("操作成功"),e.$emit("success")}),1e3)},getMenu:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$API.system.menu.list.get();case 2:n=t.sent,e.menu.list=n.data;case 4:case"end":return t.stop()}}),t)})))()},getGroup:function(){this.group.list=[{label:"JL00"},{label:"LP01"},{label:"LP07"},{label:"SL01"},{label:"TL06"},{label:"TL09"},{label:"YP07"}]},getType:function(){this.type.list=[{label:"原料采购"},{label:"厂内互供"},{label:"炼销订单"},{label:"化工统销订单"},{label:"移库单"},{label:"自销订单"}]}}}),h=(n("ca04"),n("6b0d")),v=n.n(h);const O=v()(m,[["render",f],["__scopeId","data-v-5b419ef5"]]);t["default"]=O},"841c":function(e,t,n){"use strict";var o=n("c65b"),r=n("d784"),a=n("825a"),i=n("1d80"),c=n("129f"),l=n("577e"),s=n("dc4a"),u=n("14c3");r("search",(function(e,t,n){return[function(t){var n=i(this),r=void 0==t?void 0:s(t,e);return r?o(r,t,n):new RegExp(t)[e](l(n))},function(e){var o=a(this),r=l(e),i=n(t,o,r);if(i.done)return i.value;var s=o.lastIndex;c(s,0)||(o.lastIndex=0);var d=u(o,r);return c(o.lastIndex,s)||(o.lastIndex=s),null===d?-1:d.index}]}))},ca04:function(e,t,n){"use strict";n("2529")}}]);