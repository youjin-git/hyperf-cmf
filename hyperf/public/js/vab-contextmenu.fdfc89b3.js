(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vab-contextmenu"],{2806:function(e,t,n){},4329:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c=Object(o["createElementVNode"])("div",{style:{height:"500px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",color:"#999"}}," 试试看在上下左右四个角落右键，看看边缘位置修正效果 ",-1);function i(e,t,n,i,l,r){var a=Object(o["resolveComponent"])("el-alert"),u=Object(o["resolveComponent"])("el-empty"),s=Object(o["resolveComponent"])("el-table-column"),d=Object(o["resolveComponent"])("el-table"),m=Object(o["resolveComponent"])("el-card"),b=Object(o["resolveComponent"])("el-col"),f=Object(o["resolveComponent"])("el-row"),j=Object(o["resolveComponent"])("el-main"),O=Object(o["resolveComponent"])("sc-contextmenu-item"),p=Object(o["resolveComponent"])("sc-contextmenu");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,{gutter:15},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{lg:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{shadow:"never"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{title:"试试右键表格行看看. 支持多级菜单, 动态菜单等等等...",type:"success",style:{"margin-bottom":"20px"}}),Object(o["createVNode"])(d,{ref:"table",data:l.tableData,"highlight-current-row":"",onRowContextmenu:r.rowContextmenu},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{type:"expand"},{default:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(u,{description:e.row.id+" 自定义扩展行","image-size":60},null,8,["description"])]})),_:1}),Object(o["createVNode"])(s,{prop:"id",label:"ID",width:"50"}),Object(o["createVNode"])(s,{prop:"name",label:"NAME",width:"220"}),Object(o["createVNode"])(s,{prop:"date",label:"DATE"}),Object(o["createVNode"])(s,{prop:"state",label:"STATE"})]})),_:1},8,["data","onRowContextmenu"])]})),_:1})]})),_:1}),Object(o["createVNode"])(b,{lg:12},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{shadow:"never",onContextmenu:Object(o["withModifiers"])(r.openMenu,["prevent"])},{default:Object(o["withCtx"])((function(){return[c]})),_:1},8,["onContextmenu"])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{ref:"contextmenu",onCommand:r.handleCommand,onVisibleChange:r.visibleChange},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{command:"a",title:"返回(B)",suffix:"Alt+←"}),Object(o["createVNode"])(O,{command:"b",title:"重新加载(R)",suffix:"Ctrl+R",icon:"el-icon-refresh"}),Object(o["createVNode"])(O,{title:"切换兼容性模式",divided:""},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{command:"c1",title:"二级菜单1"}),Object(o["createVNode"])(O,{title:"二级菜单2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{command:"c2-1",title:"三级菜单1"}),Object(o["createVNode"])(O,{command:"c2-2",title:"三级菜单2"}),Object(o["createVNode"])(O,{command:"c2-3",title:"三级菜单3"})]})),_:1}),Object(o["createVNode"])(O,{command:"c3",title:"二级菜单3"})]})),_:1}),Object(o["createVNode"])(O,{command:"d",title:"属性(P)",divided:"",disabled:l.row&&0==l.row.state},null,8,["disabled"]),l.row&&0==l.row.state?(Object(o["openBlock"])(),Object(o["createBlock"])(O,{key:0,command:"e",title:"设置state=1"})):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["onCommand","onVisibleChange"])],64)}var l={class:"sc-contextmenu__menu"};function r(e,t,n,c,i,r){return Object(o["openBlock"])(),Object(o["createBlock"])(o["Transition"],{name:"el-zoom-in-top"},{default:Object(o["withCtx"])((function(){return[i.visible?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,ref:"contextmenu",class:"sc-contextmenu",style:Object(o["normalizeStyle"])({left:i.left+"px",top:i.top+"px"}),onContextmenu:t[0]||(t[0]=Object(o["withModifiers"])((function(){return r.fun&&r.fun.apply(r,arguments)}),["prevent"]))},[Object(o["createElementVNode"])("ul",l,[Object(o["renderSlot"])(e.$slots,"default")])],36)):Object(o["createCommentVNode"])("",!0)]})),_:3})}var a={provide:function(){return{menuClick:this.menuClick}},data:function(){return{visible:!1,top:0,left:0}},watch:{visible:function(e){var t=this,n=function(e){var n=t.$refs.contextmenu;n&&!n.contains(e.target)&&t.closeMenu()};e?document.body.addEventListener("click",(function(e){return n(e)})):document.body.removeEventListener("click",(function(e){return n(e)}))}},mounted:function(){},methods:{menuClick:function(e){this.closeMenu(),this.$emit("command",e)},openMenu:function(e){var t=this;e.preventDefault(),this.visible=!0,this.left=e.clientX+1,this.top=e.clientY+1,this.$nextTick((function(){var n=e.clientX+1,o=e.clientY+1,c=window.innerWidth,i=window.innerHeight,l=t.$refs.contextmenu.offsetHeight,r=t.$refs.contextmenu.offsetWidth;t.left=n+r>c?c-r:n,t.top=o+l>i?o-l:o})),this.$emit("visibleChange",!0)},closeMenu:function(){this.visible=!1,this.$emit("visibleChange",!1)},fun:function(){return!1}}},u=(n("51b2"),n("6b0d")),s=n.n(u);const d=s()(a,[["render",r]]);var m=d,b={key:0},f={class:"title"},j={class:"sc-contextmenu__suffix"},O={key:0,class:"el-icon-arrow-right"},p={key:0,class:"sc-contextmenu__menu"};function h(e,t,n,c,i,l){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[n.divided?(Object(o["openBlock"])(),Object(o["createElementBlock"])("hr",b)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("li",{class:Object(o["normalizeClass"])(n.disabled?"disabled":""),onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return l.liClick&&l.liClick.apply(l,arguments)}),["stop"])),onMouseenter:t[1]||(t[1]=function(e){return l.openSubmenu(e)}),onMouseleave:t[2]||(t[2]=function(e){return l.closeSubmenu(e)})},[Object(o["createElementVNode"])("span",f,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["sc-contextmenu__icon",n.icon])},null,2),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.title),1)]),Object(o["createElementVNode"])("span",j,[e.$slots.default?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",O)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(n.suffix),1)],64))]),e.$slots.default?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",p,[Object(o["renderSlot"])(e.$slots,"default")])):Object(o["createCommentVNode"])("",!0)],34)],64)}var C={props:{command:{type:String,default:""},title:{type:String,default:""},suffix:{type:String,default:""},icon:{type:String,default:""},divided:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},inject:["menuClick"],methods:{liClick:function(){return!this.$slots.default&&(!this.disabled&&void this.menuClick(this.command))},openSubmenu:function(e){var t=e.target.querySelector("ul");if(!t)return!1;t.style.display="inline-block";var n=t.getBoundingClientRect(),o=n.left,c=n.top,i=window.innerWidth,l=window.innerHeight,r=t.offsetHeight,a=t.offsetWidth;o+a>i&&(t.style.left="auto",t.style.right="100%"),c+r>l&&(t.style.top="auto",t.style.bottom="0")},closeSubmenu:function(e){var t=e.target.querySelector("ul");if(!t)return!1;t.removeAttribute("style"),t.style.display="none"}}};const w=s()(C,[["render",h]]);var v=w,x={name:"contextmenu",components:{scContextmenu:m,scContextmenuItem:v},data:function(){return{row:null,tableData:[{id:"1",name:"Sakuya",date:"2021-10-10",state:1},{id:"2",name:"Lolowan(此行右键属性禁用)",date:"2021-10-09",state:0},{id:"3",name:"Ali",date:"2021-10-08",state:1}]}},mounted:function(){},methods:{rowContextmenu:function(e,t,n){this.row=e,this.$refs.table.setCurrentRow(e),this.$refs.contextmenu.openMenu(n)},openMenu:function(e){this.row=null,this.$refs.contextmenu.openMenu(e)},handleCommand:function(e){this.$message("click on item "+e),"e"==e&&(this.row.state=1)},visibleChange:function(e){e||this.$refs.table.setCurrentRow()}}};const k=s()(x,[["render",i]]);t["default"]=k},"51b2":function(e,t,n){"use strict";n("2806")}}]);